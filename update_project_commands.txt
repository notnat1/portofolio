# --- COMMAND 1: RESET PASSWORD FOR 'api'@'%' ---
# Jalankan perintah ini terlebih dahulu.
# Ini akan mereset password untuk user 'api' yang digunakan oleh backend.
echo 'ignaciojanis' | sudo -S docker exec -i portofolio-pippeline-mysql-dev-1 mysql -uroot -p'root_password_change_me' -e "ALTER USER 'api'@'%' IDENTIFIED BY 'ignaciojanis';"

# --- COMMAND 2: RESET PASSWORD FOR 'api'@'localhost' ---
# Jalankan perintah ini kedua.
# Ini akan mereset password untuk user 'api' yang digunakan saat menjalankan perintah dari dalam container database.
echo 'ignaciojanis' | sudo -S docker exec -i portofolio-pippeline-mysql-dev-1 mysql -uroot -p'root_password_change_me' -e "ALTER USER 'api'@'localhost' IDENTIFIED BY 'ignaciojanis';"

# --- COMMAND 3: UPDATE PROJECT DETAILS ---
# Setelah kedua perintah di atas berhasil (tidak ada error selain warning),
# jalankan perintah ini untuk mengupdate gambar dan link Source Code proyek.
echo 'ignaciojanis' | sudo -S bash -c "docker exec -i portofolio-pippeline-mysql-dev-1 mysql -uapi -p'ignaciojanis' api_dev -e \"UPDATE projects SET image_url = 'images/halaman Dashboard admin panel website inventory.png', source_code_url = 'https://github.com/notnat1/website-order-picking.git' WHERE id = 1;\""

# --- VERIFIKASI ---
# Setelah semua perintah selesai, periksa situs Anda di https://portofolio.natte.site
